var CountdownHelper=function(){function e(){var e=this;this.options={characterData:!0,attributes:!0,childList:!0,subtree:!0},this.countdown=new MutationObserver(function(t){t.forEach(function(t){var n=t.target;if(n instanceof HTMLDivElement){console.log("cd: %o",n);var o=parseFloat(n.innerText.trim().split(":")[1]);if(e.counter-o>0&&e.counter-o<=1&&(e.counter=o),e.counter%5==0&&e.counter!==e.utterances[0]){var r=e.counter+" seconds left",s=new SpeechSynthesisUtterance(r);s.rate=1.8,window.speechSynthesis.speak(s),e.utterances.unshift(e.counter)}}})}),this.gameover=new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type&&1===t.addedNodes.length){var n=t.addedNodes[0];n instanceof HTMLElement&&(console.log("go: %o",n),n.classList.contains("game-over-container")&&e.reset())}})})}return e.prototype.clock=function(){for(var e=document.getElementById("four-player-username").innerText,t=document.getElementsByClassName("player-avatar"),n=0;n<t.length;n++){var o=t[n];if(o instanceof HTMLAnchorElement&&o.pathname==="/member/"+e){var r=o.nextElementSibling;if(r instanceof HTMLDivElement&&r.classList.contains("clock"))return console.log(r),r}}return null},e.prototype.start=function(){this.reset(),this.gameover.observe(document.body,this.options),this.countdown.observe(this.clock(),this.options),console.log("countdown observer started")},e.prototype.stop=function(){this.gameover.disconnect(),console.log("countdown observer stopped")},e.prototype.reset=function(){this.counter=60,this.utterances=[60],console.log("counters reset")},e}(),DomModifier=function(){function e(){this.countdownHelper=new CountdownHelper}return e.prototype.addStartAiButton=function(){var e=this,t=document.getElementsByClassName("btns-container")[0];if(t instanceof HTMLElement){t.style.cssFloat="right";var n=t.cloneNode(!0);if(n instanceof HTMLElement){n.style.cssFloat="left",n.style.marginRight="12px";var o=n.firstChild;"A"===o.nodeName&&o instanceof HTMLElement&&(o.innerText="Start AI",o.classList.remove("new-game-btn"));var r=n.cloneNode(!0);if(r instanceof HTMLElement){r.style.display="none";var s=r.firstChild;"A"===s.nodeName&&s instanceof HTMLElement&&(s.innerText="Stop AI",s.style.color="#b4b4b3",s.style.borderBottom="#272422",s.style.backgroundColor="#272422",s.addEventListener("click",function(){n.style.display="block",r.style.display="none",e.countdownHelper.stop()})),o.addEventListener("click",function(){r.style.display="block",n.style.display="none",e.countdownHelper.start()})}t.parentNode.appendChild(n),t.parentNode.appendChild(r)}}return this},e.prototype.rightAlignStartButton=function(){var e=document.getElementsByTagName("head")[0];if(e instanceof HTMLElement){var t=document.createTextNode(".btns-container { float: right; }"),n=document.createElement("style");n instanceof HTMLElement&&(n.type="text/css",n.appendChild(t)),e.appendChild(n)}return this},e}();(new DomModifier).rightAlignStartButton().addStartAiButton();