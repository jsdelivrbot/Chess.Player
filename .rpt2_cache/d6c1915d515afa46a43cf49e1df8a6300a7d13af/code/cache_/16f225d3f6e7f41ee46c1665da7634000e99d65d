{"code":"import { AnalysisHelper } from \"./analysis-helper\";\r\nimport { DomWatcher } from \"./dom-watcher\";\r\nvar DomModifier = /** @class */ (function () {\r\n    function DomModifier() {\r\n        document.body.addEventListener(\"mouseover\", this.over);\r\n        document.body.addEventListener(\"mousedown\", this.down);\r\n        document.body.addEventListener(\"mouseup\", this.up);\r\n        window.addEventListener(\"keydown\", function (e) {\r\n            if (!e.repeat &&\r\n                e.key === \"q\" || e.key === \"Q\") {\r\n                console.log(\"q key pressed\");\r\n                // show hanging pieces and their attackers\r\n                // add hidden field to dom with affected elements\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", function (e) {\r\n            if (e.key === \"q\" || e.key === \"Q\") {\r\n                console.log(\"q key released\");\r\n                // clear effects on elements for hanging pieces\r\n                // remove hidden field from dom\r\n            }\r\n        });\r\n        this.domWatcher = new DomWatcher();\r\n        this.rightAlignStartButton();\r\n        this.addStartAiButton();\r\n    }\r\n    DomModifier.prototype.addStartAiButton = function () {\r\n        var _this = this;\r\n        var btnNewGame = document.getElementsByClassName(\"btns-container\")[0];\r\n        if (btnNewGame instanceof HTMLElement) {\r\n            btnNewGame.style.cssFloat = \"right\";\r\n            var btnOn_1 = btnNewGame.cloneNode(true);\r\n            if (btnOn_1 instanceof HTMLElement) {\r\n                btnOn_1.style.cssFloat = \"left\";\r\n                btnOn_1.style.marginRight = \"12px\";\r\n                var anchorOn = btnOn_1.firstChild;\r\n                if (anchorOn.nodeName === \"A\") {\r\n                    if (anchorOn instanceof HTMLElement) {\r\n                        anchorOn.innerText = \"Start AI\";\r\n                        anchorOn.classList.remove(\"new-game-btn\");\r\n                    }\r\n                }\r\n                var btnOff_1 = btnOn_1.cloneNode(true);\r\n                if (btnOff_1 instanceof HTMLElement) {\r\n                    btnOff_1.style.display = \"none\";\r\n                    var anchorOff = btnOff_1.firstChild;\r\n                    if (anchorOff.nodeName === \"A\") {\r\n                        if (anchorOff instanceof HTMLElement) {\r\n                            anchorOff.innerText = \"Stop AI\";\r\n                            anchorOff.style.color = \"#b4b4b3\";\r\n                            anchorOff.style.borderBottom = \"#272422\";\r\n                            anchorOff.style.backgroundColor = \"#272422\";\r\n                            anchorOff.addEventListener(\"click\", function () {\r\n                                _this.domWatcher.countdown.enabled = false;\r\n                                btnOff_1.style.display = \"none\";\r\n                                btnOn_1.style.display = \"block\";\r\n                            });\r\n                        }\r\n                    }\r\n                    anchorOn.addEventListener(\"click\", function () {\r\n                        _this.domWatcher.countdown.enabled = true;\r\n                        btnOff_1.style.display = \"block\";\r\n                        btnOn_1.style.display = \"none\";\r\n                    });\r\n                }\r\n                btnNewGame.parentNode.appendChild(btnOn_1);\r\n                btnNewGame.parentNode.appendChild(btnOff_1);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    DomModifier.prototype.rightAlignStartButton = function () {\r\n        var head = document.getElementsByTagName(\"head\")[0];\r\n        if (head instanceof HTMLElement) {\r\n            var text = document.createTextNode(\".btns-container { float: right; }\");\r\n            var style = document.createElement(\"style\");\r\n            if (style instanceof HTMLElement) {\r\n                style.type = \"text/css\";\r\n                style.appendChild(text);\r\n            }\r\n            head.appendChild(style);\r\n        }\r\n        return this;\r\n    };\r\n    DomModifier.prototype.over = function (event) {\r\n        new AnalysisHelper().showMovesAndEnemies(event.target);\r\n    };\r\n    DomModifier.prototype.down = function (event) {\r\n        var helper = new AnalysisHelper();\r\n        helper.setOriginSquare(event.target);\r\n        helper.showMovesAndEnemies(event.target);\r\n    };\r\n    DomModifier.prototype.up = function (event) {\r\n        new AnalysisHelper().resetOriginSquareAndCleanSquares();\r\n    };\r\n    return DomModifier;\r\n}());\r\nexport { DomModifier };\r\n","map":{"mappings":""}}
